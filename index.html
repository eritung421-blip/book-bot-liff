<!doctype html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>Eri's Reading Hub</title>
    <style><?= include_("style"); ?></style>
  </head>
  <body>
    <header class="topbar">
      <div class="brand">Eri’s Reading Hub 📖</div>
      <div class="sub">Phase 1：書籍管理 / 類別管理</div>
    </header>

    <nav class="tabs">
      <button class="tab active" data-tab="books">書籍管理</button>
      <button class="tab" data-tab="categories">類別管理</button>
    </nav>

    <main class="container">
      <!-- 書籍管理 -->
      <section id="tab-books" class="panel show">
        <div class="card">
          <h2>新增單本</h2>
          <div class="grid2">
            <label>中譯書名<input id="titleZh" placeholder="例如：挪威的森林"></label>
            <label>原文書名<input id="titleOrig" placeholder="例如：ノルウェイの森"></label>
            <label>中譯作者<input id="authorZh" placeholder="例如：村上春樹"></label>
            <label>原文作者<input id="authorOrig" placeholder="例如：Haruki Murakami"></label>
          </div>

          <div class="grid2">
            <label>類別
              <select id="categorySelect"></select>
            </label>
            <label>推薦指數（Select）
              <input id="rating" placeholder="例如：★★★★★ / 5 / 很推（需符合 Notion 選項）">
            </label>
            <label>閱讀月份（yyyy-MM）
              <input id="month" placeholder="例如：2026-01">
            </label>
            <label>狀態（Select）
              <input id="status" placeholder="例如：想讀 / 閱讀中 / 閱讀完畢（需符合 Notion 選項）">
            </label>
          </div>

          <div class="actions">
            <button id="btnAddOne" class="btn primary">新增</button>
            <span id="addOneMsg" class="hint"></span>
          </div>
        </div>

        <div class="card">
          <h2>批次新增</h2>
          <p class="hint">
            每行一筆，格式：<br/>
            <code>中譯書名｜原文書名｜中譯作者｜原文作者｜類別｜推薦指數｜閱讀月份｜狀態</code>
          </p>
          <textarea id="bulk" rows="7" placeholder="貼在這裡（多行）"></textarea>
          <div class="actions">
            <button id="btnBulk" class="btn">批次新增</button>
            <span id="bulkMsg" class="hint"></span>
          </div>
        </div>

        <div class="card">
          <h2>書單</h2>
          <div class="grid2">
            <label>關鍵字（書名/作者）
              <input id="keyword" placeholder="例如：村上">
            </label>
            <label>篩選月份
              <input id="filterMonth" placeholder="例如：2026-01（可空）">
            </label>
            <label>篩選狀態
              <input id="filterStatus" placeholder="例如：閱讀完畢（可空）">
            </label>
            <label>篩選類別
              <select id="filterCategory"></select>
            </label>
          </div>
          <div class="actions">
            <button id="btnSearch" class="btn">搜尋</button>
            <span id="listMsg" class="hint"></span>
          </div>

          <div id="bookList" class="list"></div>
        </div>
      </section>

      <!-- 類別管理 -->
      <section id="tab-categories" class="panel">
        <div class="card">
          <h2>新增類別（同步到 Notion）</h2>
          <div class="grid2">
            <label>類別名稱<input id="newCategory" placeholder="例如：心理學"></label>
            <div class="actions">
              <button id="btnAddCategory" class="btn primary">新增類別</button>
              <span id="catMsg" class="hint"></span>
            </div>
          </div>
        </div>

        <div class="card">
          <h2>目前類別</h2>
          <div id="categoryList" class="chips"></div>
        </div>
      </section>
    </main>

    <script><?= include_("app"); ?></script>
  </body>
</html>
